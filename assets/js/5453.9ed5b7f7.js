"use strict";(self.webpackChunkfhsdocs=self.webpackChunkfhsdocs||[]).push([[5453],{5453:(e,t,a)=>{a.r(t),a.d(t,{default:()=>v});var i=a(6540),l=a(608);const n=[{id:"Digital Voice",group:"digital",value:5411,selected:!1,breakdown:[2257,1927,1287]},{id:"Digital Clock",group:"digital",value:3653,selected:!1,breakdown:[2272,1188,455]},{id:"MRI",group:"digital",value:5642,selected:!1,breakdown:[2157,1663,1822]},{id:"Digital Pen",group:"digital",value:1916,selected:!1,breakdown:[1916,0,0]},{id:"Dvoice Transcripts",group:"digital",value:185,selected:!1,breakdown:[129,35,21]},{id:"LMDr Transcripts",group:"digital",value:295,selected:!1,breakdown:[19,211,65]},{id:"PET Amyloid",group:"digital",value:285,selected:!1,breakdown:[285,0,0]}];var r=a(4848),o=l.A.CanvasJS,d=l.A.CanvasJSChart;const c=e=>{var t=["","K","M","B"],a=Math.max(Math.floor(Math.log(Math.abs(e.value))/Math.log(1e3)),0);a>t.length-1&&(a=t.length-1);var i=t[a];return o.formatNumber(e.value/Math.pow(1e3,a))+i},s=e=>{const t={animationEnabled:!0,height:"130",dataPointWidth:20,theme:"light2",title:{innerWidth:"200",text:"Summary"},legend:{horizontalAlign:"left",verticalAlign:"center",fontSize:12},axisX:{title:"Occurences",reversed:!0},axisY:{title:"Number of participants",includeZero:!0,labelFormatter:c},data:[]};if(-1===e.selectedPie[1])t.title={innerWidth:"200",text:"Select a bubble to view breakdown"},t.data=[{type:"bar",legendText:"",showInLegend:!1,dataPoints:[{y:0,label:"1 timepoint"},{y:0,label:"2 timepoints"},{y:0,label:"3+ timepoint"}]}];else{var a=n[e.selectedPie[1]].breakdown;t.data=[{type:"bar",legendText:"",showInLegend:!1,dataPoints:[{y:a[0],label:"1 timepoint"},{y:a[1],label:"2 timepoints"},{y:a[2],label:"3+ timepoints"}]}]}return(0,r.jsx)("div",{children:(0,r.jsx)(d,{options:t})})};var u=a(3028);const h=["#e0ac2b","#e85252","#6689c6","#9a6fb0","#a53253","#69b3a2"],g=e=>{let{width:t,height:a,data:l,selectedPie:n,setSelectedPie:o}=e;const d=l.map((e=>({...e}))),c=(0,i.useRef)(null),[s,g]=(0,u.Xxv)(d.map((e=>e.value))),v=(0,u.Bv9)().domain([s,g]).range([50,130]);var f=!1;return(0,i.useEffect)((()=>{const e=c.current,i=e?.getContext("2d");i&&u.tXi(d).force("collide",u.eRw().radius((e=>v(e.value)+1))).force("charge",u.xJS().strength(80)).force("center",u.jTM(t/2,a/2)).force("charge",u.TSS(0).strength(.05)).on("tick",(()=>{((e,t,a,i,l,n)=>{const r=[...new Set(i.map((e=>e.group)))];(0,u.UMr)().domain(r).range(h),e.clearRect(0,0,t,a),Math.max(...i.map((e=>e.value))),Math.min(...i.map((e=>e.value))),i.forEach((t=>{t.x&&t.y&&(e.beginPath(),e.moveTo(t.x+12,t.y),e.arc(t.x,t.y,l(t.value),0,2*Math.PI),console.log(n),n[0]===t.id?e.fillStyle="#9a6fb0":e.fillStyle="#e0ac2b",e.fill(),e.textAlign="center",e.fillStyle="black",e.font=.25*l(t.value)+"px serif",t.id.length,l(t.value)>20&&e.fillText(t.id,t.x,t.y,800))}))})(i,t,a,d,v,n)})).on("end",(()=>{f=!0}))}),[t,a,d,v]),(0,i.useEffect)((()=>{const e=c.current,t=e?.getContext("2d");t&&e?.addEventListener("mousedown",(function(t){!function(e,t){let a=e.getBoundingClientRect(),i=t.clientX-a.left,l=t.clientY-a.top;d.forEach(((e,t)=>{(function(e,t,a,i,l){var n=e-a,r=t-i;return n*n+r*r<=l*l})(i,l,e.x,e.y,v(e.value))&&o([e.id,t])}))}(e,t)}))}),[f]),(0,r.jsx)("div",{children:(0,r.jsx)("canvas",{ref:c,style:{width:t,height:a},width:t,height:a})})};const v=function(){const[e,t]=(0,i.useState)(["",-1]);return(0,r.jsxs)("div",{className:"dataviscontainer",children:[(0,r.jsx)(s,{selectedPie:e}),(0,r.jsx)(g,{data:n,width:1e3,height:600,selectedPie:e,setSelectedPie:t}),","]})}}}]);